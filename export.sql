--------------------------------------------------------
--  File created - Tuesday-January-14-2020   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence SEQUENCE_LOG_ACTIVITY
--------------------------------------------------------

   CREATE SEQUENCE  "TOKO_BUKU"."SEQUENCE_LOG_ACTIVITY"  MINVALUE 1 MAXVALUE 999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQUENCE_LOG_DISTRIBUTOR
--------------------------------------------------------

   CREATE SEQUENCE  "TOKO_BUKU"."SEQUENCE_LOG_DISTRIBUTOR"  MINVALUE 1 MAXVALUE 999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table ACTIV
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."ACTIV" 
   (	"ID" VARCHAR2(5 BYTE), 
	"USER" VARCHAR2(30 BYTE), 
	"KETERANGAN" VARCHAR2(50 BYTE), 
	"WAKTU" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table BUKU
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."BUKU" 
   (	"ID_BUKU" VARCHAR2(5 BYTE), 
	"JUDUL" VARCHAR2(90 BYTE), 
	"PENULIS" VARCHAR2(30 BYTE), 
	"JENIS" VARCHAR2(30 BYTE), 
	"TAHUN" NUMBER(4,0), 
	"HARGA_BUKU" NUMBER(10,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table DISTRIBUTOR
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."DISTRIBUTOR" 
   (	"ID_DIS" VARCHAR2(5 BYTE), 
	"NAMA_DIS" VARCHAR2(20 BYTE), 
	"ALAMAT" VARCHAR2(50 BYTE), 
	"TELP" VARCHAR2(15 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table KASIR
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."KASIR" 
   (	"ID_KASIR" VARCHAR2(5 BYTE), 
	"NAMA" VARCHAR2(30 BYTE), 
	"ALAMAT" VARCHAR2(50 BYTE), 
	"JENIS_KELAMIN" VARCHAR2(10 BYTE), 
	"TELP" VARCHAR2(15 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table KWITANSI
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."KWITANSI" 
   (	"ID_KWIT" VARCHAR2(5 BYTE), 
	"ID_DIS" VARCHAR2(5 BYTE), 
	"NAMA_DIS" VARCHAR2(20 BYTE), 
	"ID_BUKU" VARCHAR2(5 BYTE), 
	"JUMLAH_BUKU" NUMBER(5,0), 
	"TANGGAL" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table LOG_ACTIVITY
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."LOG_ACTIVITY" 
   (	"ID" VARCHAR2(5 BYTE), 
	"CURRENT_LOG" VARCHAR2(50 BYTE), 
	"DATE_CREATED" DATE, 
	"CREATED_BY" VARCHAR2(50 BYTE), 
	"DATE_MODIFIED" DATE, 
	"MODIFIED_BY" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table LOG_DISTRIBUTOR
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."LOG_DISTRIBUTOR" 
   (	"ID" VARCHAR2(5 BYTE), 
	"NAMA_DIS" VARCHAR2(20 BYTE), 
	"ALAMAT" VARCHAR2(50 BYTE), 
	"TELP" VARCHAR2(15 BYTE), 
	"CREATED_BY" VARCHAR2(50 BYTE), 
	"DATE_MODIFIED" DATE, 
	"MODIFIED_BY" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table TRANSAKSI
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."TRANSAKSI" 
   (	"ID_TRANS" VARCHAR2(5 BYTE), 
	"ID_BUKU" VARCHAR2(5 BYTE), 
	"JUDUL" VARCHAR2(90 BYTE), 
	"ID_KASIR" VARCHAR2(5 BYTE), 
	"NAMA" VARCHAR2(30 BYTE), 
	"JUMLAH" NUMBER(5,0), 
	"TOTAL" NUMBER(10,0), 
	"TANGGAL" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table USER
--------------------------------------------------------

  CREATE TABLE "TOKO_BUKU"."USER" 
   (	"ID_USER" VARCHAR2(5 BYTE), 
	"NAMA" VARCHAR2(30 BYTE), 
	"PASSWORD" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for View NOTA
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "TOKO_BUKU"."NOTA" ("JUDUL", "PENULIS", "JUMLAH", "TOTAL", "ID_KASIR", "NAMA_KASIR") AS 
  select b.judul, b.penulis, t.jumlah, t.total,k.id_kasir, k.nama as NAMA_KASIR
from buku b 
inner join transaksi t
on b.id_buku = t.id_buku
INNER JOIN kasir k
ON k.id_kasir = t.id_kasir
;
REM INSERTING into TOKO_BUKU.ACTIV
SET DEFINE OFF;
REM INSERTING into TOKO_BUKU.BUKU
SET DEFINE OFF;
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a1','ayat-ayat cinta','Habbiburrahman','Roman',2013,50000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a2','laskar pelangi','Andrea Hirata','novel',2010,75000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a3','Negeri Para Bedebah','Tere Liye','Roman',2009,150000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a4','Daun Yang Jatuh','Tere Liye','Roman',2010,90000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a5','7 Keajaiban Rezeki','Ippho Santosa','motivasi',2011,95000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a6','Perahu Kertas','Dee Lestari','Novel',2010,85000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a7','Garis Waktu','Fiersa Besari','Senandika',2012,60000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a8','Jalan Pulang','Jazuli Imam','Perjalanan',2012,90000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a9','Pejalan Anarki','Jazuli Imam','Perjalanan',2015,85000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a10','Matematika Kehidupan','Yusuf Mansur','motivasi',2011,70000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a11','Bumi Manusia','Pramoedya Anata Toer','Roman',2007,120000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a12','Resign','Almira Bestari','Novel',2015,70000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a13','Konspirasi Alam Semesta','Fiersa Besari','Novel',2013,65000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a14','Ketika Tuhan Tak Lagi Dibutuhkan','Ahmad Rifai Rifan','Religi',2013,90000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a15','Your Job Is Not Your Carier','Rene Soehardono','Motivasi',2010,55000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a16','Distilasi Alkenna','Wira Nagara','Roman',2009,75000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a17','Anak Semua Bangsa','Pramoedya Anata Toer','Roman',2007,150000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a18','Supernova','Dee Lestari','Novel',2007,200000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a19','Catatan Najwa','Najwa Shihab','Sosial',2015,45000);
Insert into TOKO_BUKU.BUKU (ID_BUKU,JUDUL,PENULIS,JENIS,TAHUN,HARGA_BUKU) values ('3a20','Naional is me','Panji Pragi Waksono','Sosial',2007,40000);
REM INSERTING into TOKO_BUKU.DISTRIBUTOR
SET DEFINE OFF;
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a1','PT. Sejahtera','Jakarta','021885767');
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a2','PT. Makmur','BEKASI','0876485743');
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a3','PT. Wahana','Tangerang','03156678');
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a5','PT. Sinar','Bogor','0897897866');
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a6','PT. Jaya','Jakarta','0878596784');
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a7','PT. Berkah','Depok','0897867864');
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a8','PT. Abadi','Malang','0878980647');
Insert into TOKO_BUKU.DISTRIBUTOR (ID_DIS,NAMA_DIS,ALAMAT,TELP) values ('1a9','PT. Mulya','bekasi','087865789');
REM INSERTING into TOKO_BUKU.KASIR
SET DEFINE OFF;
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5a1','Indah','Bekasi','Perempuan','08976787657');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5a2','Bambang','Jakarta','Laki-laki','08123564678');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5a3','Airin','Bandung','Perempuan','08789876567');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5a4','Tiya','Bekasi','Perempuan','08567654678');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5a5','Joko','Malang','Lakilaki','08797567854');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5A6','tejo','bekasi','laki_laki','0897865645');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5B6','tejo','bekasi','laki_laki','0897865645');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5a10','iis','jakarta','perempuan','8786690890');
Insert into TOKO_BUKU.KASIR (ID_KASIR,NAMA,ALAMAT,JENIS_KELAMIN,TELP) values ('5a11','putri','bekasi','perempuan','897689');
REM INSERTING into TOKO_BUKU.KWITANSI
SET DEFINE OFF;
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a1','1a1','PT. Sejahtera','3a1',500,to_date('17-DEC-17','DD-MON-RR'));
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a2','1a2','PT. Makmur','3a2',100,to_date('10-NOV-15','DD-MON-RR'));
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a3','1a3','PT. Wahana','3a4',200,to_date('19-OCT-18','DD-MON-RR'));
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a5','1a5','PT. Sinar','3a7',100,to_date('21-JAN-16','DD-MON-RR'));
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a6','1a6','PT. Jaya','3a10',100,to_date('22-FEB-18','DD-MON-RR'));
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a7','1a7','PT. Berkah','3a8',300,to_date('17-AUG-19','DD-MON-RR'));
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a8','1a8','PT. Abadi','3a11',400,to_date('09-JUN-14','DD-MON-RR'));
Insert into TOKO_BUKU.KWITANSI (ID_KWIT,ID_DIS,NAMA_DIS,ID_BUKU,JUMLAH_BUKU,TANGGAL) values ('2a9','1a9','PT. Mulya','3a15',100,to_date('13-MAY-12','DD-MON-RR'));
REM INSERTING into TOKO_BUKU.LOG_ACTIVITY
SET DEFINE OFF;
REM INSERTING into TOKO_BUKU.LOG_DISTRIBUTOR
SET DEFINE OFF;
REM INSERTING into TOKO_BUKU.TRANSAKSI
SET DEFINE OFF;
Insert into TOKO_BUKU.TRANSAKSI (ID_TRANS,ID_BUKU,JUDUL,ID_KASIR,NAMA,JUMLAH,TOTAL,TANGGAL) values ('4a1','3a1','ayat-ayat cinta','5a1','Indah',5,250000,to_date('17-DEC-19','DD-MON-RR'));
Insert into TOKO_BUKU.TRANSAKSI (ID_TRANS,ID_BUKU,JUDUL,ID_KASIR,NAMA,JUMLAH,TOTAL,TANGGAL) values ('4a2','3a5','laskar pelangi','5a2','Bambang',2,190000,to_date('20-NOV-19','DD-MON-RR'));
Insert into TOKO_BUKU.TRANSAKSI (ID_TRANS,ID_BUKU,JUDUL,ID_KASIR,NAMA,JUMLAH,TOTAL,TANGGAL) values ('4a3','3a7','Negeri Para Bedebah','5a3','Airin',5,300000,to_date('21-OCT-18','DD-MON-RR'));
Insert into TOKO_BUKU.TRANSAKSI (ID_TRANS,ID_BUKU,JUDUL,ID_KASIR,NAMA,JUMLAH,TOTAL,TANGGAL) values ('4a4','3a20','Daun Yang Jatuh','5a4','Tiya',7,280000,to_date('10-SEP-17','DD-MON-RR'));
Insert into TOKO_BUKU.TRANSAKSI (ID_TRANS,ID_BUKU,JUDUL,ID_KASIR,NAMA,JUMLAH,TOTAL,TANGGAL) values ('4a5','3a17','7 Keajaiban Rezeki','5a5','Joko',5,750000,to_date('18-AUG-16','DD-MON-RR'));
REM INSERTING into TOKO_BUKU."USER"
SET DEFINE OFF;
Insert into TOKO_BUKU."USER" (ID_USER,NAMA,PASSWORD) values ('7a1','Surti','123');
REM INSERTING into TOKO_BUKU.NOTA
SET DEFINE OFF;
Insert into TOKO_BUKU.NOTA (JUDUL,PENULIS,JUMLAH,TOTAL,ID_KASIR,NAMA_KASIR) values ('ayat-ayat cinta','Habbiburrahman',5,250000,'5a1','Indah');
Insert into TOKO_BUKU.NOTA (JUDUL,PENULIS,JUMLAH,TOTAL,ID_KASIR,NAMA_KASIR) values ('7 Keajaiban Rezeki','Ippho Santosa',2,190000,'5a2','Bambang');
Insert into TOKO_BUKU.NOTA (JUDUL,PENULIS,JUMLAH,TOTAL,ID_KASIR,NAMA_KASIR) values ('Garis Waktu','Fiersa Besari',5,300000,'5a3','Airin');
Insert into TOKO_BUKU.NOTA (JUDUL,PENULIS,JUMLAH,TOTAL,ID_KASIR,NAMA_KASIR) values ('Anak Semua Bangsa','Pramoedya Anata Toer',5,750000,'5a5','Joko');
Insert into TOKO_BUKU.NOTA (JUDUL,PENULIS,JUMLAH,TOTAL,ID_KASIR,NAMA_KASIR) values ('Naional is me','Panji Pragi Waksono',7,280000,'5a4','Tiya');
--------------------------------------------------------
--  DDL for Index ACTIV
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."ACTIV" ON "TOKO_BUKU"."ACTIV" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index BUKU_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."BUKU_PK" ON "TOKO_BUKU"."BUKU" ("ID_BUKU") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index DISTRIBUTOR_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."DISTRIBUTOR_PK" ON "TOKO_BUKU"."DISTRIBUTOR" ("ID_DIS") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index KASIR_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."KASIR_PK" ON "TOKO_BUKU"."KASIR" ("ID_KASIR") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index KWITANSI_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."KWITANSI_PK" ON "TOKO_BUKU"."KWITANSI" ("ID_KWIT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index LOG_ACTIVITY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."LOG_ACTIVITY_PK" ON "TOKO_BUKU"."LOG_ACTIVITY" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index LOG_DISTRIBUTOR_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."LOG_DISTRIBUTOR_PK" ON "TOKO_BUKU"."LOG_DISTRIBUTOR" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index TRANSAKSI_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."TRANSAKSI_PK" ON "TOKO_BUKU"."TRANSAKSI" ("ID_TRANS") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index USER_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TOKO_BUKU"."USER_PK" ON "TOKO_BUKU"."USER" ("ID_USER") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Trigger BIR_LOG_DISTRIBUTOR
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "TOKO_BUKU"."BIR_LOG_DISTRIBUTOR" 
BEFORE  INSERT ON LOG_DISTRIBUTOR FOR EACH ROW
BEGIN IF :NEW.ID IS NULL THEN
  SELECT SEQUENCE_LOG_DISTRIBUTOR.NEXTVAL INTO :NEW.ID     FROM DUAL ;
END IF;
:NEW.DATE_CREATED := SYSDATE;
:NEW.CREATED_BY   := NVL(:NEW.CREATED_BY, USER);
END;

/
ALTER TRIGGER "TOKO_BUKU"."BIR_LOG_DISTRIBUTOR" ENABLE;
--------------------------------------------------------
--  DDL for Trigger BUR_LOG_DISTRIBUTOR
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "TOKO_BUKU"."BUR_LOG_DISTRIBUTOR" 
BEFORE UPDATE ON LOG_DISTRIBUTOR FOR EACH ROW
BEGIN
    :NEW.DATE_MODIFIED := SYSDATE;
    :NEW.MODIFIED_BY := NVL(:NEW.CREATED_BY, USER);
END;

/
ALTER TRIGGER "TOKO_BUKU"."BUR_LOG_DISTRIBUTOR" ENABLE;
--------------------------------------------------------
--  DDL for Procedure INSERT_KASIR
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "TOKO_BUKU"."INSERT_KASIR" (
   ID_KASIR VARCHAR2,
   NAMA  VARCHAR2,
   ALAMAT    VARCHAR2,
   JENIS_KELAMIN VARCHAR2,
   TELP NUMBER)
    AS
BEGIN
   INSERT INTO KASIR(id_kasir, nama, alamat,jenis_kelamin, telp) VALUES (ID_KASIR, NAMA, ALAMAT, JENIS_KELAMIN, TELP );
END INSERT_KASIR;

/
--------------------------------------------------------
--  DDL for Function GET_BOOK
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "TOKO_BUKU"."GET_BOOK" (p_id_buku VARCHAR2) RETURN VARCHAR2 AS
v_judul buku.judul%TYPE;
BEGIN
select judul
 into v_judul
from buku
where id_buku=p_id_buku;
   RETURN v_judul;
exception 
when no_data_found then
dbms_output.put_line('tidak ditemukan Karyawan dengan empno : '||p_id_buku);
when others then
dbms_output.put_line('error');
END;

/
--------------------------------------------------------
--  Constraints for Table ACTIV
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."ACTIV" ADD CONSTRAINT "ACTIV" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."ACTIV" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table BUKU
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."BUKU" ADD CONSTRAINT "BUKU_PK" PRIMARY KEY ("ID_BUKU")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."BUKU" MODIFY ("ID_BUKU" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table DISTRIBUTOR
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."DISTRIBUTOR" ADD CONSTRAINT "DISTRIBUTOR_PK" PRIMARY KEY ("ID_DIS")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."DISTRIBUTOR" MODIFY ("ID_DIS" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table KASIR
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."KASIR" ADD CONSTRAINT "KASIR_PK" PRIMARY KEY ("ID_KASIR")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."KASIR" MODIFY ("ID_KASIR" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table KWITANSI
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."KWITANSI" ADD CONSTRAINT "KWITANSI_PK" PRIMARY KEY ("ID_KWIT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."KWITANSI" MODIFY ("ID_BUKU" NOT NULL ENABLE);
  ALTER TABLE "TOKO_BUKU"."KWITANSI" MODIFY ("ID_DIS" NOT NULL ENABLE);
  ALTER TABLE "TOKO_BUKU"."KWITANSI" MODIFY ("ID_KWIT" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table LOG_ACTIVITY
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."LOG_ACTIVITY" ADD CONSTRAINT "LOG_ACTIVITY_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table LOG_DISTRIBUTOR
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."LOG_DISTRIBUTOR" ADD CONSTRAINT "LOG_DISTRIBUTOR_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."LOG_DISTRIBUTOR" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TRANSAKSI
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."TRANSAKSI" ADD CONSTRAINT "TRANSAKSI_PK" PRIMARY KEY ("ID_TRANS")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."TRANSAKSI" MODIFY ("ID_KASIR" NOT NULL ENABLE);
  ALTER TABLE "TOKO_BUKU"."TRANSAKSI" MODIFY ("ID_BUKU" NOT NULL ENABLE);
  ALTER TABLE "TOKO_BUKU"."TRANSAKSI" MODIFY ("ID_TRANS" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table USER
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."USER" ADD CONSTRAINT "USER_PK" PRIMARY KEY ("ID_USER")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "TOKO_BUKU"."USER" MODIFY ("ID_USER" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table KWITANSI
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."KWITANSI" ADD CONSTRAINT "KWITANSI_FK1" FOREIGN KEY ("ID_DIS")
	  REFERENCES "TOKO_BUKU"."DISTRIBUTOR" ("ID_DIS") ENABLE;
  ALTER TABLE "TOKO_BUKU"."KWITANSI" ADD CONSTRAINT "KWITANSI_FK2" FOREIGN KEY ("ID_BUKU")
	  REFERENCES "TOKO_BUKU"."BUKU" ("ID_BUKU") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TRANSAKSI
--------------------------------------------------------

  ALTER TABLE "TOKO_BUKU"."TRANSAKSI" ADD CONSTRAINT "TRANSAKSI_FK1" FOREIGN KEY ("ID_BUKU")
	  REFERENCES "TOKO_BUKU"."BUKU" ("ID_BUKU") ENABLE;
  ALTER TABLE "TOKO_BUKU"."TRANSAKSI" ADD CONSTRAINT "TRANSAKSI_FK2" FOREIGN KEY ("ID_KASIR")
	  REFERENCES "TOKO_BUKU"."KASIR" ("ID_KASIR") ENABLE;
